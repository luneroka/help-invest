{% extends "layout.html" %} {% block title %} Change Password {% endblock %} {%
block main %}
<form action="/change-password" method="post" class="mt-4">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
  <div class="d-flex flex-column justify-content-center align-items-center">
    <div class="mb-4 input-group input-group-lg" style="max-width: 300px">
      <input
        class="form-control"
        name="current-password"
        placeholder="Mot de passe actuel"
        type="password"
      />
      <span
        class="input-group-text"
        style="background-color: #f8f9fa; cursor: pointer"
      >
        <i class="bi bi-eye"></i>
      </span>
    </div>
    <div class="mb-4 input-group input-group-lg" style="max-width: 300px">
      <input
        class="form-control"
        name="new-password"
        placeholder="Nouveau mot de passe"
        type="password"
      />
      <span
        class="input-group-text"
        style="background-color: #f8f9fa; cursor: pointer"
      >
        <i class="bi bi-eye"></i>
      </span>
    </div>
    <div class="mb-4 input-group input-group-lg" style="max-width: 300px">
      <input
        class="form-control"
        name="confirmation"
        placeholder="Confirmer mot de passe"
        type="password"
      />
      <span
        class="input-group-text"
        style="background-color: #f8f9fa; cursor: pointer"
      >
        <i class="bi bi-eye"></i>
      </span>
    </div>
  </div>
  <button class="btn btn-lg main-btn" type="submit" style="width: 300px">
    Mettre Ã  jour
  </button>
</form>
<script>
  // Attach click event to all toggle icons
  document.querySelectorAll('.input-group-text').forEach((toggleButton) => {
    toggleButton.addEventListener('click', function () {
      // Find the input associated with this toggle
      const input = this.previousElementSibling; // Assuming the icon is immediately after the input
      const eyeIcon = this.querySelector('.bi'); // Icon inside the toggle button

      // Toggle password visibility
      if (input.type === 'password') {
        input.type = 'text';
        eyeIcon.classList.remove('bi-eye');
        eyeIcon.classList.add('bi-eye-slash');
      } else {
        input.type = 'password';
        eyeIcon.classList.remove('bi-eye-slash');
        eyeIcon.classList.add('bi-eye');
      }
    });
  });
</script>
{% endblock %}
